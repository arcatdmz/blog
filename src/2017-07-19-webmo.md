---
title: "Webmoを試す"
date: "2017-07-19"
tags: 
  - "programming"
---

![](/images/webmo-300x300.jpg)

[Webmo](http://webmo.io/)はJavaScriptから気軽にサーボモータを操作できるIntel Edisonベースのデバイスです。Webmoを電源に繋ぐだけで、Wi-FiアクセスポイントとWebサーバが立ち上がります。Wi-Fiアクセスポイントに接続すると、JavaScriptのライブラリでサーボモータの状態を取得・設定したり、WebブラウザでWi-Fiアクセスポイントの設定を変えたりできます。

[Intel Edison終売の噂](http://japanese.engadget.com/2017/06/21/iot-3/)があって今後どうなるか分かりませんが、公式サイトの[「Webmoの始め方」](http://webmo.io/gettingstarted.html)に載っていない情報をメモ代わりに書き留めておきます。

## Windowsで有線(USB)接続

公式サイトの[「Webmoの始め方」](http://webmo.io/gettingstarted.html)に沿って進めればWebmoを使い始めるのは簡単だと思います。ただ、Macユーザに最適化されたマニュアルになっていて、Windowsだと有線接続で捜査できないように読めてしまいます。実際には有線接続はMacより簡単です。

Webmoを電源に繋いで起動したあと、PCにUSB Type micro-B⇔Type Aケーブルで繋ぐと、とくに何もドライバを入れなくてもUSB複合デバイスとして認識されます。

\[caption id="attachment\_1406" align="aligncenter" width="781"\][![](/images/webmo-rndis-device-manager.png)](https://junkato.jp/ja/blog/wp-content/uploads/2017/07/webmo-rndis-device-manager.png) デバイスマネージャには「ユニバーサル シリアル バス コントローラー」以下に「USB Composite Device」が、「ディスク ドライブ」以下に「Linux File-CD Gadget USB Device」が、「ネットワーク アダプター」以下に「Intel Edison USB RNDIS Device #(n)」が表示されます。\[/caption\]

…と書いたのですが、もしかするとIntel Edison用ドライバを以前インストールしたことがあったからかもしれません。デバイスマネージャに上のような表示が出ない場合は[「Intel Edisonのセットアップ」](http://docs.f3js.org/howto/1-setup-intel-edison/)にあるようにインストーラを起動して最初の項目が「**USB drivers installed**」「**Repair Drivers >**」という表示になるようにドライバをインストールしてください。ちなみに、**Flash Firmware以下のボタンをクリックしてしまうとWebmoのファームウェアがリセットされたり設定が書き換わったりするので、そのあたりの意味を100%理解していない限り絶対にやらないように**してください。

また、USBケーブルを挿すタイミングによってはデバイス識別子の取得に失敗して、USB複合デバイスとして認識されない場合があります。そのときは、デバイス マネージャー上で認識に失敗しているUSBデバイスを右クリックし、いったん「無効」にしてから再度「有効」にすると認識されます。

microUSBで接続後は、ネットワーク アダプターのIPアドレスを手動で `192.168.2.2` に設定し、ネットマスクを `255.255.255.0` に設定すれば、Webmoが `192.168.2.15` で見えるようになります。

\[caption id="attachment\_1409" align="aligncenter" width="723"\][![](/images/webmo-rndis-network-connections.png)](https://junkato.jp/ja/blog/wp-content/uploads/2017/07/webmo-rndis-network-connections.png) コントロールパネルの「ネットワーク接続」にWebmoを表す「Intel Edison USB RNDIS Device #(n)」が表示されます。\[/caption\]

右クリックで出るメニューから「プロパティ」を選んでIPアドレスなどの設定を変えられます。

\[caption id="attachment\_1410" align="aligncenter" width="465"\][![](/images/webmo-rndis-ipv4-manual-setup.png)](https://junkato.jp/ja/blog/wp-content/uploads/2017/07/webmo-rndis-ipv4-manual-setup.png) 「インターネット プロトコル バージョン 4 (TCP/IPv4)」の「プロパティ」がこの画面のようになるよう設定すればIntel Edisonに繋げるようになります。\[/caption\]

ここまでできたら、ブラウザで [http://192.168.2.15](http://192.168.2.15) にアクセスしてみてください。Webmoの設定画面が表示されるはずです。（[「Webmoの始め方」](http://webmo.io/gettingstarted.html)には http://192.168.42.1/ と書いてありますが、RNDISのときのIPアドレスは自動的に `192.168.2.15` になります。これはIntel Edisonベースのデバイスで共通です。）

## WebmoにSSHログイン

Webmoに限らずIntel Edisonベースのデバイスは適切に設定すると `root` アカウントでSSH接続できるようになります。Webmoの場合は、[「Webmoの始め方」](http://webmo.io/gettingstarted.html)に書いてあるように、USB接続したPC上に表示されるUSBドライブ内の「id\_rsa」を秘密鍵として使うことでログインできます。例えば次のようなコマンドになるでしょう。

\[code language="bash"\]ssh -i ~/.ssh/id\_rsa\_webmo root@192.168.2.15\[/code\]

\[caption id="attachment\_1413" align="aligncenter" width="663"\][![](/images/webmo-ssh.png)](https://junkato.jp/ja/blog/wp-content/uploads/2017/07/webmo-ssh.png) WebmoにSSHログインして ls-al したり systemctl でデーモンの状態を確認したりしてみました。\[/caption\]
